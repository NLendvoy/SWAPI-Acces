(this["webpackJsonpstar-wars-app"]=this["webpackJsonpstar-wars-app"]||[]).push([[0],{21:function(e,t,n){},40:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(34),s=n.n(r),c=n(15),i=(n(40),n(8)),o=n(9),p=n(11),h=n(10),l=(n(21),n(2)),d=n(13),u=n.n(d),j=n(17),g=n(14),b=n.n(g);b.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("An unexpected error occured.")),Promise.reject(e)}));var f={get:b.a.get,post:b.a.post,put:b.a.put,delete:b.a.delete},v=n(18),m=n.n(v),x=n(1),O=function(e){var t=e.itemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChange,s=Math.ceil(t/n);if(1===s)return null;var c=m.a.range(1,s+1);return Object(x.jsx)("nav",{children:Object(x.jsxs)("ul",{className:"pagination",children:[" ",c.map((function(e){return Object(x.jsxs)("li",{className:e===a?"page-item active":"page-item",children:[" ",Object(x.jsxs)("button",{className:"page-link",onClick:function(){return r(e)},children:["     ",e]})]},e)}))]})})},k=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.id,name:e.props.name,height:e.props.height,gender:e.props.gender,species:e.props.species},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.setState({name:this.props.name,height:this.props.height,gender:this.props.gender,species:this.props.species})}},{key:"render",value:function(){var e=this.state,t=e.id,n=e.name,a=e.height,r=e.gender,s=e.species;return Object(x.jsx)(c.b,{to:"/movieDetails/".concat(t),className:"personGeneral-container",children:Object(x.jsxs)("div",{xs:18,children:[Object(x.jsx)("h2",{className:"name",children:n}),Object(x.jsxs)("h5",{children:["Gender: ",r]}),Object(x.jsxs)("h5",{children:["Height: ",a," cm"]}),Object(x.jsxs)("h5",{children:["Species: ",s]})]})})}}]),n}(a.Component);var w=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={personList:[],pageSize:10,currentPage:1},e.handlePageChange=function(t){e.setState({currentPage:t}),window.scrollTo(0,0)},e.getId=function(e){var t=e.indexOf("people")+7,n=e.length-1;return console.log(e.slice(t,n)),e.slice(t,n)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],a="https://swapi.dev/api/people/",r="",s=1;case 5:if(!(s<84)){e.next=35;break}if(17===s){e.next=32;break}return a="https://swapi.dev/api/people/"+s+"/",e.prev=8,e.next=11,f.get(a);case 11:if(void 0!==(t=e.sent).data.species[0]){e.next=16;break}t.data.species="Human",e.next=26;break;case 16:return e.prev=16,e.next=19,f.get(t.data.species[0]);case 19:r=e.sent,t.data.species=r.data.name,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),alert("Something went wrong getting the species");case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(8),alert("Something failed while getting a person.");case 31:n=n.concat(t);case 32:s++,e.next=5;break;case 35:this.setState({personList:n});case 36:case"end":return e.stop()}}),e,this,[[8,28],[16,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.personList.length,n=this.state,a=n.pageSize,r=n.currentPage,s=function(e,t,n){var a=(t-1)*n;return m()(e).slice(a).take(n).value()}(n.personList,r,a);return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"person-list",children:["                   ",s.map((function(t){return Object(x.jsx)(k,{id:e.getId(t.data.url),name:t.data.name,height:t.data.height,gender:t.data.gender,species:t.data.species},e.getId(t.data.url))}))]}),"                                          ",Object(x.jsx)(O,{itemsCount:t,pageSize:a,currentPage:r,onPageChange:this.handlePageChange})]})}}]),n}(a.Component),y=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.match.params.id,films:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://swapi.dev/api/people/"+this.state.id+"/",n=[],e.prev=2,e.next=5,f.get(t);case 5:return e.next=7,e.sent.data.films;case 7:a=e.sent,r=0;case 9:if(void 0===a[r]){e.next=23;break}return e.prev=10,e.next=13,f.get(a[r]);case 13:s=e.sent,n=n.concat(s),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),alert("Something failed while fetching film data.");case 20:r++,e.next=9;break;case 23:this.setState({films:n}),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(2),alert("Something failed while fetching a person's films.");case 29:case"end":return e.stop()}}),e,this,[[2,26],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.films.length,t=this.state.films;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Character appeared in ",e," films:"]}),Object(x.jsxs)("div",{children:["                                           ",t.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Title: ",e.data.title]}),Object(x.jsxs)("h5",{children:["Episode ID: ",e.data.episode_id]}),Object(x.jsxs)("h5",{children:["Director: ",e.data.director]}),Object(x.jsxs)("h5",{children:["Release Date: ",e.data.release_date]})]},e.data.episode_id)}))]})]})}}]),n}(a.Component),C=function(){return Object(x.jsx)("h1",{children:"404 Not Found"})},S=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/movieDetails/:id",component:y}),Object(x.jsx)(l.b,{path:"/people",component:w}),Object(x.jsx)(l.b,{path:"/not-found",component:C}),Object(x.jsx)(l.a,{from:"/",exact:!0,to:"/people"}),Object(x.jsx)(l.a,{to:"/not-found"})]})})}}]),n}(a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(66),n(67);s.a.render(Object(x.jsx)(c.a,{children:Object(x.jsx)(S,{})}),document.getElementById("root")),P()}},[[68,1,2]]]);
//# sourceMappingURL=main.28f764e1.chunk.js.map