(this["webpackJsonpstar-wars-app"]=this["webpackJsonpstar-wars-app"]||[]).push([[0],{21:function(e,t,n){},40:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(34),s=n.n(r),c=n(16),i=(n(40),n(9)),o=n(10),p=n(12),h=n(11),u=(n(21),n(2)),l=n(8),d=n.n(l),j=n(14),b=n(15),g=n.n(b);g.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("An unexpected error occured.")),Promise.reject(e)}));var v={get:g.a.get,post:g.a.post,put:g.a.put,delete:g.a.delete},f=n(18),m=n.n(f),x=n(1),O=function(e){var t=e.itemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChange,s=Math.ceil(t/n);if(1===s)return null;var c=m.a.range(1,s+1);return Object(x.jsx)("nav",{children:Object(x.jsx)("ul",{className:"pagination",children:c.map((function(e){return Object(x.jsx)("li",{className:e===a?"page-item active":"page-item",children:Object(x.jsx)("button",{className:"page-link",onClick:function(){return r(e)},children:e})},e)}))})})},k=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.id,name:e.props.name,height:e.props.height,gender:e.props.gender,species:e.props.species},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.name!==t.name&&this.setState({name:this.props.name,height:this.props.height,gender:this.props.gender,species:this.props.species});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.id,n=e.name,a=e.height,r=e.gender,s=e.species;return Object(x.jsx)(c.b,{to:"/movieDetails/".concat(t),className:"personGeneral-container",children:Object(x.jsxs)("div",{xs:18,children:[Object(x.jsx)("h2",{className:"name",children:n}),Object(x.jsxs)("h5",{children:["Gender: ",r]}),Object(x.jsxs)("h5",{children:["Height: ",a," cm"]}),Object(x.jsxs)("h5",{children:["Species: ",s]})]})})}}]),n}(a.Component);var y=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={personList:[],speciesList:[],pageSize:10,currentPage:1},e.handlePageChange=function(t){e.setState({currentPage:t})},e.getId=function(e){var t=e.indexOf("people")+7,n=e.length-1;return console.log(e.slice(t,n)),e.slice(t,n)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n="https://swapi.dev/api/people/",a=[],r=1;case 4:if(!(r<84)){e.next=32;break}if(17===r){e.next=29;break}return n="https://swapi.dev/api/people/"+r+"/",e.prev=7,e.next=10,v.get(n);case 10:if(void 0!==(t=e.sent).data.species[0]){e.next=15;break}t.data.species="Human",e.next=24;break;case 15:return e.prev=15,e.next=18,v.get(t.data.species[0]);case 18:s=e.sent,t.data.species=s.data.name,e.next=24;break;case 22:e.prev=22,e.t0=e.catch(15);case 24:e.next=28;break;case 26:e.prev=26,e.t1=e.catch(7);case 28:a=a.concat(t);case 29:r++,e.next=4;break;case 32:this.setState({personList:a}),console.log(this.state.personList);case 34:case"end":return e.stop()}}),e,this,[[7,26],[15,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.personList.length,n=this.state,a=n.pageSize,r=n.currentPage,s=function(e,t,n){var a=(t-1)*n;return m()(e).slice(a).take(n).value()}(n.personList,r,a);return Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{children:["Showing ",t," people in the database."]}),"  ",Object(x.jsxs)("div",{className:"person-list",children:["                   ",s.map((function(t){return Object(x.jsx)(k,{id:e.getId(t.data.url),name:t.data.name,height:t.data.height,gender:t.data.gender,species:t.data.species},e.getId(t.data.url))}))]}),Object(x.jsx)(O,{itemsCount:t,pageSize:a,currentPage:r,onPageChange:this.handlePageChange})]})}}]),n}(a.Component),w=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.match.params.id,name:e.props.name,films:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,a,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://swapi.dev/api/people/"+this.state.id+"/",n=[],e.prev=2,e.next=5,v.get(t);case 5:return e.next=7,e.sent.data.films;case 7:a=e.sent,r=0;case 9:if(void 0===a[r]){e.next=22;break}return e.prev=10,e.next=13,v.get(a[r]);case 13:s=e.sent,n=n.concat(s),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:r++,e.next=9;break;case 22:this.setState({films:n}),e.next=27;break;case 25:e.prev=25,e.t1=e.catch(2);case 27:case"end":return e.stop()}}),e,this,[[2,25],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.films.length,t=this.state,n=t.films,a=t.name;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:[a," appeared in ",e," films:"]}),Object(x.jsx)("div",{children:n.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{children:["Title: ",e.data.title]}),Object(x.jsxs)("h5",{children:["Episode ID: ",e.data.episode_id]}),Object(x.jsxs)("h5",{children:["Director: ",e.data.director]}),Object(x.jsxs)("h5",{children:["Release Date: ",e.data.release_date]})]},e.data.episode_id)}))})]})}}]),n}(a.Component),C=function(){return Object(x.jsx)("h1",{children:"404 Not Found"})},P=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(u.d,{children:[Object(x.jsx)(u.b,{path:"/movieDetails/:id",component:w}),Object(x.jsx)(u.b,{path:"/people",component:y}),Object(x.jsx)(u.b,{path:"/not-found",component:C}),Object(x.jsx)(u.a,{from:"/",exact:!0,to:"/people"}),Object(x.jsx)(u.a,{to:"/not-found"})]})})}}]),n}(a.Component),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};n(66),n(67);s.a.render(Object(x.jsx)(c.a,{children:Object(x.jsx)(P,{})}),document.getElementById("root")),S()}},[[68,1,2]]]);
//# sourceMappingURL=main.2a731460.chunk.js.map